!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["enigma-mixin"]=t()}(this,function(){"use strict";var e={sessionList:{qInfo:{qId:"",qType:"SessionLists"},qSelectionObjectDef:{}},variableList:{qInfo:{qType:"VariableList"},qVariableListDef:{qType:"variable"}}};async function t(){let t=await _this.api.createSessionObject(e.sessionList);return await t.getLayout()}return{types:["Doc"],init(e){_this=e,ConfiguredPromise=e.config.Promise},extend:{mixin:{qVariables:{getAllVariables:async function({showSession:t=!1,showConfig:i=!1,showReserved:a=!1}={}){let n=e.variableList;n.qShowSession=t,n.qShowConfig=i,n.qShowReserved=a;let s=await _this.api.createSessionObject(n);return(await s.getLayout()).qVariableList.qItems},updateVariable:async function(e){let t=await _this.api.getVariableById(e.qInfo.qId);return await t.setProperties(e)},createVariable:async function({variableName:e,variableComment:t="",variableDefinition:i}){let a={qInfo:{qType:"variable"},qName:e,qComment:t,qDefinition:i};return await _this.api.createVariableEx(a)}},qSelections:{getCurrSelectionFields:t,selectInField:async function({fieldName:e,values:t,toggle:i=!1}){let a=await _this.api.getField(e),n=t.map(function(e){return{qText:e}});try{return await a.selectValues({qFieldValues:n,qToggleMode:i})}catch(e){return console.log(e.message),!1}},getCurrentSelections:async function(){let e=await t(),i=e.qSelectionObject.qSelections.map(function(e){return e.qField});return{selections:e.qSelectionObject.qSelections,fields:i}}},qTablesAndFields:{getTablesAndFields:async function(){let e=await _this.api.getTablesAndKeys({},{},0,!0,!1),t=[];for(let i of e.qtr)for(let e of i.qFields)t.push({table:i.qName,field:e.qName});return t},getTables:async function(){let e=await _this.api.getTablesAndKeys({},{},0,!0,!1),t=[];for(let i of e.qtr)t.push(i.qName);return t},getFields:async function(){let e=await _this.api.getTablesAndKeys({},{},0,!0,!1),t=[];for(let i of e.qtr)for(let e of i.qFields)t.push(e.qName);return t}}}}}});
//# sourceMappingURL=enigma-mixin.min.js.map
